[00:00:00] Writing user file...
[00:00:00] Writing channel file...
[00:14:24] <yulimoto> хм, влизам с като обикновен усер $ (обикновените усери имат лимит в limits.conf) после ставам руут (той няма лимит), но все пак имам ограничение. Представям си го така $bash->#bash, но тъй като парента е ограничен то въпреки че съм su пак съм ограничен. Така ли е ил
[00:18:24] <phalaaxx> как разбра, че имаш ограничение като root@
[00:18:26] <phalaaxx> ?
[00:18:49] <yulimoto> too many open files ili нещо подобно пишеше
[00:18:55] <yulimoto> в един случай ;
[00:18:59] <yulimoto> после
[00:19:05] <yulimoto> реших да видя
[00:19:14] <yulimoto> и се опитах да инсталирам lsof
[00:19:27] <yulimoto> too many open files единия път
[00:19:36] <yulimoto> други нещо s python
[00:19:41] <yulimoto> после влязох в
[00:19:56] <yulimoto> /etc/security/limits.conf
[00:20:08] <yulimoto> и си махнах лимита
[00:20:20] <yulimoto> излезнах и от двата шела
[00:20:26] <yulimoto> конектнах се пак
[00:20:33] <yulimoto> инсталирах лсоф
[00:20:53] <yulimoto> оправих лимита както си беше
[00:21:00] <phalaaxx> cheater :P
[00:21:59] <yulimoto> remove–нах лсоф ( iskah da widq дали лимита се актуализира веднага или при началото на сесията на баш ) и въпреки че в limits.conf беше актуализиран. пак можех да ремове
[00:22:08] <yulimoto> и така я махнах
[00:23:33] <yulimoto> т.е. мисля, че limits.conf се зарежда в началото на сесията на баша, и обхваща чайлдовете въпреки че те може да са рут. Нещо такова става.
[00:24:22] <yulimoto> най-добре се вижда с ps axfu дървото
[00:26:19] <phalaaxx> тц, не мисля че е така... може и да греша де, не съм си играл много с ограничаване на процеси
[00:26:51] <phalaaxx> но все пак: top -u yulimoto
[00:27:20] <phalaaxx> това са си твоите процеси и ако в някоя конзола напишеш sudo -i и изпълниш нещо друго - то няма да се появи в този списък
[00:28:49] <phalaaxx> lsof казваш... да взема и аз да пробвам че ми стана любопитно :)
[00:29:21] <yulimoto> която и да е малка програмка
[00:29:25] <yulimoto> няма значение
[00:29:33] <yulimoto> просто пробвах
[00:29:38] <yulimoto> просто пробвай
[00:30:04] <yulimoto> но интересното че излизат разлини грешки
[00:30:58] <yulimoto> в началото ми излизаше [error xxxx] Too many opened files /lib/yum/ и т.н.
[00:31:55] <yulimoto> сега ми излиза python: rpmio.c:1703: Fdopen: Assertion `fd && fd->magic == 0x04463138' failed.
[00:31:58] <yulimoto> Прекъснат
[00:32:53] <yulimoto> според мен има някаква връзка, с  ограничения парент или нещо подобно. вероятно не го казвам както трябва
[00:33:14] tuxar (~tuxar@ppp-94-69-251-193.home.otenet.gr) left irc: Ping timeout: 268 seconds
[00:33:24] <phalaaxx> мдаа странно
[00:34:54] <yulimoto> дори да си смениш лимитите, ако не излезнеш от ограничения и влезеш отново няма да стане
[00:35:55] <phalaaxx> интересно, а ако си запълниш потребителския лимит какво ли ще стане със судото :)
[00:36:55] <yulimoto> мисля, че ще се ограничи и то
[00:37:22] <yulimoto> но ... не знам
[00:37:23] <yulimoto> де
[00:37:30] <yulimoto> сега взех да се колебая
[00:38:28] <yulimoto> башчета ли правиш хахах
[00:39:08] <phalaaxx> тц, root сесията си е ок
[00:39:25] <phalaaxx> [phalaaxx@grizzly ~]$ ls
[00:39:25] <phalaaxx> bash: fork: retry: Resource temporarily unavailable
[00:39:44] <yulimoto> а баша си може така ли ?
[00:39:50] <yulimoto> т.е. рута
[00:40:35] <phalaaxx> да
[00:40:41] <phalaaxx> там си пускам разни неща
[00:40:53] <phalaaxx> top, ls, ... :)
[00:41:33] <yulimoto> добре сега ще измисля друго
[00:42:08] <yulimoto> $баш-#bash->20+процеса
[00:43:08] <phalaaxx> оо чакай малко
[00:44:30] <yulimoto> ?
[00:45:25] <phalaaxx> тц, фалшива тревога :)
[00:50:28] <phalaaxx> амии значи, в pam.d има нещо за sudo
[00:50:41] <phalaaxx> sudo и sudo-i
[00:51:07] <phalaaxx> и там има: session    required     pam_limits.so
[00:51:22] <phalaaxx> предполагам че това пренася ограничението към root като си минал през sudo
[00:51:39] dyrgel (~kolio@95.111.103.228) joined #telerikacademy.
[00:51:46] <phalaaxx> леле ама как обяснявам какво ми е в главата, добре че ми е в главата наистина че щях много да се псувам иначе
[00:53:27] <phalaaxx> не, не е това :)
[00:53:52] <dyrgel> здравейте, Мариан днес ме посъветва да се обърна към irc канала за ресетване на парола в grizzly-то, някой да може да помогне?
[00:54:04] <yulimoto> for i in $(seq 1 25);do sudo su ; done; няма проблем
[00:54:50] <phalaaxx> аа ама това не се изпълнява едновременно
[00:55:16] <yulimoto> ами нали от един влизам в негов чайлд
[00:55:26] <yulimoto> dyrgel: здравей
[00:55:28] <phalaaxx> да де ама се изпълняват последователно
[00:55:49] <yulimoto> aha
[00:56:10] <yulimoto> dyrgel:  за какво точно иде реч :)
[00:56:42] <phalaaxx> пробвай нещо такова:
[00:56:42] <phalaaxx> for i in $(seq 1 25); do sh -c 'sleep 60&'; done
[00:57:25] <yulimoto> и аз първо се сетих за слийп ama за & не се сетих, ей браво
[00:57:51] <yulimoto> dyrgel: на кое име е паролата ?
[00:58:43] <yulimoto> гледам че има dyrgel като потребител :)
[00:59:43] <yulimoto> phalaaxx: не е ли сложно така с sh -c
[01:00:00] Writing user file...
[01:00:00] Writing channel file...
[01:00:23] <phalaaxx> иначе ще ти е трудно на един ред да го стартираш в bg
[01:00:57] <phalaaxx> това е някаква обидна история, започва да ме дразни  :D
[01:03:47] <yulimoto> хахах
